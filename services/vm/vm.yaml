swagger: "2.0"
info:
  version: 0.0.4
  date: 11-14-2018
  title: "Coludmesh VM"
  description: |-

    A service to manage virtual machines

  termsOfService: "https://github.com/cloudmesh-community/nist/blob/master/LICENSE.txt"
  contact:
    name: Gregor von Laszeewski
  license:
    name: "Apache"
host: "localhost:8080"
basePath: "/cloudmesh"
schemes:
  - "http"
consumes:
  - "application/json"
produces:
  - "application/json"
paths:
  /vm:
    get:
      tags:
        - "vm"
      operationId: vm_list
      description: "Returns the list of the vms"
      produces: 
        - "application/json"
      parameters:
        - name: "cloud"
          in: "body"
          type: string
          description: "specify the cloud from which we list, if ommitted all clouds are returned."
          required: false
      schema:
        $ref: "#/definitions/VM"
      responses: 
        "200":
          description: "Listing the VMs"
          schema: 
            $ref: "#/definitions/VM"
definitions:
  VM:
    type: "object"
    properties:
      provider:
        type: "string"
        description: Name of the provider    
      id:
        type: "string"
        description: a unique id for the vm
      name:
        type: "string"
        description: the name of the vm
      image:
        type: "string"
        description: the image for the vm
      region:
        type: "string"
        description: an optional region
      size:
        type: "string"
        description: The size of the vm
      state:
        type: "string"
        description: The state of the vm
      private_ips:
        type: "string"   # will be changed to array
        description: The private IPs
      public_ips:
        type: "string"   # will be changed to array
        description: The public IPS
      metadata:
        type: "string"   # will be changed to dict
        description: The meta data passed along to the VM
        

